---
layout: post
title: 网络是怎样连接的（一）：导览
date: 2018-07-07 17:34:11.000000000 +09:00
category: Network
tags: Notes
---

# 探索之旅路线图
由于请求和响应都是由0和1组成的数字信息，所以可以说，我们需要的是一种能够**将数字信息搬运到指定目的地的机制**。

基本思路是将数字信息分割成一个一个的小块，然后装入一些被成为“包”的容器中来运送。
包相当于信件或者包裹，而交换机和路由器则相当于邮局或快递公司的分拣处理区。包的头部存有目的地等控制信息，通过许多交换机和路由器的接力，就可以根据控制信息对这些包进行分拣，然后将它们一步一步地搬运到目的地。

这个负责搬运数字信息的**机制**，再加上浏览器和Web服务器这些**网络应用程序**，这两部分就组成了网络。

## 第一章 Web浏览器
浏览器就是委托操作系统中的网络控制软件将消息发送给服务器。

## 第二章 协议栈、网卡
本章探索搬运数据的机制：

- 协议栈：这个软件会将从浏览器接收到的信息打包，然后加上目的地址等控制信息。如果拿邮局来比喻，就是把信装进信封，然后在信封上写上收信人的地址。
- 网卡：接下来，协议栈会将包交给网卡（负责以太网或无线网络通信的硬件）。然后，网卡会将包转换为电信号并通过网线发送出去。

这样一来，包就进入到网络之中了。

## 第三章 集线器、交换机、路由器
客户端计算机可以通过以下两种方式接入互联网：

- 通过家庭或公司的局域网
- 直接接入

我们假设客户端计算机是连接到家庭或公司的局域网中，然后再通过 ADSL 和光纤到户（FTTH）等宽带线路接入互联网。

在这样的情境中，网卡发送的包会经过交换机等设备，到达**用来接入互联网的路由器**。路由器的后面就是互联网，网络运营商会负责将包送到目的地。

## 第四章 接入网、网络运营商
接下来，数据从用来接入互联网的路由器出发，进入了互联网的内部。**互联网的入口线路称为接入网。**接入网连接到签约的网络运营商，并接入被称为**接入点（Point of Presence, PoP）**的设备。
接入点的实体是一台专为运营商设计的路由器，网络包首先通过接入网被发送到接入点，然后再从这里被发送到全国甚至全世界。
**接入点的后面就是互联网的骨干部分了。**

## 第五章 防火墙、缓存服务器
通过骨干网之后，网络包最终到达了 Web 服务器所在的局域网中。接着，它会遇到防火墙，**防火墙会对进入的包进行检查**。检查完之后，还可能遇到**缓存服务器**。此外，在大型网站中，可能还会配备将信息分布到多台 Web 服务器上的负载均衡器。

## 第六章 Web服务器
当网络包到达 Web 服务器后，数据会被解包并还原为原始的请求消息，然后交给 Web 服务器程序。和客户端一样，这个操作也是由操作系统中的协议栈（网络控制软件）来完成的。



